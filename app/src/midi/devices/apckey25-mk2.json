{
  "$schema": "../../schemas/midi-device-config.schema.json",
  "deviceName": "APC Key 25 mk2",
  "manufacturer": "AKAI Professional",
  "variant": "mk2",
  "dualDevice": true,
  "devices": {
    "keyboard": {
      "name": "APC Key 25 mk2",
      "description": "25-key velocity-sensitive keyboard",
      "inputOnly": true
    },
    "controller": {
      "name": "MIDIIN2",
      "nameWindows": "MIDIIN2 (APC Key 25 mk2)",
      "nameOutput": "MIDIOUT2",
      "nameOutputWindows": "MIDIOUT2 (APC Key 25 mk2)",
      "description": "5x8 button grid, LEDs, knobs, special buttons",
      "note": "On Windows, device names include parent device in parentheses",
      "inputOutput": true
    }
  },
  "midiSpec": {
    "buttonGrid": {
      "device": "controller",
      "midiDeviceName": "MIDIIN2",
      "rows": 5,
      "cols": 8,
      "noteMap": [
        [32, 33, 34, 35, 36, 37, 38, 39],
        [24, 25, 26, 27, 28, 29, 30, 31],
        [16, 17, 18, 19, 20, 21, 22, 23],
        [8, 9, 10, 11, 12, 13, 14, 15],
        [0, 1, 2, 3, 4, 5, 6, 7]
      ],
      "noteOnVelocity": 127,
      "noteOffVelocity": 0,
      "channel": 0
    },
    "leds": {
      "device": "controller",
      "midiDeviceName": "MIDIOUT2",
      "controlMethod": "note-velocity",
      "supportsRGB": false,
      "colorMap": {
        "off": {
          "name": "off",
          "r": 0,
          "g": 0,
          "b": 0,
          "velocity": 0
        },
        "red": {
          "name": "red",
          "r": 127,
          "g": 0,
          "b": 0,
          "velocity": 5,
          "usage": "recording, error"
        },
        "yellow": {
          "name": "bright yellow",
          "r": 127,
          "g": 100,
          "b": 0,
          "velocity": 96,
          "usage": "loaded, not playing"
        },
        "green": {
          "name": "bright green",
          "r": 0,
          "g": 127,
          "b": 0,
          "velocity": 13,
          "usage": "playing"
        },
        "teal": {
          "name": "bright teal",
          "r": 0,
          "g": 127,
          "b": 127,
          "velocity": 16,
          "usage": "optional"
        },
        "blue": {
          "name": "bright sky blue",
          "r": 0,
          "g": 100,
          "b": 127,
          "velocity": 32,
          "usage": "optional"
        },
        "purple": {
          "name": "bright purple",
          "r": 100,
          "g": 0,
          "b": 127,
          "velocity": 48,
          "usage": "optional"
        }
      },
      "modes": {
        "solid": true,
        "blink": false,
        "pulse": false
      }
    },
    "knobs": {
      "device": "controller",
      "midiDeviceName": "MIDIIN2",
      "count": 8,
      "encoderType": "relative",
      "modes": {
        "volume": {
          "switchCommand": "Hold Shift + Press Pad 1 (Note 68)",
          "ccNumbers": [48, 49, 50, 51, 52, 53, 54, 55]
        },
        "pan": {
          "switchCommand": "Hold Shift + Press Pad 2 (Note 69)",
          "ccNumbers": [48, 49, 50, 51, 52, 53, 54, 55]
        },
        "send": {
          "switchCommand": "Hold Shift + Press Pad 3 (Note 70)",
          "ccNumbers": [48, 49, 50, 51, 52, 53, 54, 55]
        },
        "device": {
          "switchCommand": "Hold Shift + Press Pad 4 (Note 71)",
          "ccNumbers": [48, 49, 50, 51, 52, 53, 54, 55]
        }
      },
      "valueRange": {
        "min": 0,
        "max": 127
      },
      "notes": "All modes use same CC numbers 48-55. Knobs are relative encoders."
    },
    "keyboard": {
      "device": "keyboard",
      "midiDeviceName": "APC Key 25 mk2",
      "keys": 25,
      "startNote": 48,
      "endNote": 72,
      "fullNoteRange": {
        "min": 1,
        "max": 120,
        "notes": "User reports notes 1-120 available (wider than 25 physical keys)"
      },
      "velocitySensitive": true,
      "velocityRange": {
        "min": 0,
        "max": 127
      },
      "channel": 0,
      "notes": "Physical keyboard is 25 keys (C2-C4), but MIDI reports full 1-120 range"
    },
    "specialButtons": {
      "device": "controller",
      "midiDeviceName": "MIDIIN2",
      "shift": {
        "type": "note",
        "number": 98,
        "name": "Shift"
      },
      "sustain": {
        "type": "cc",
        "number": 64,
        "name": "Sustain"
      },
      "stopAllClips": {
        "type": "note",
        "number": 81,
        "name": "Stop All Clips"
      },
      "clipStop": {
        "type": "note",
        "number": 82,
        "name": "Clip Stop"
      },
      "solo": {
        "type": "note",
        "number": 83,
        "name": "Solo"
      },
      "mute": {
        "type": "note",
        "number": 84,
        "name": "Mute"
      },
      "recArm": {
        "type": "note",
        "number": 85,
        "name": "Rec Arm"
      },
      "select": {
        "type": "note",
        "number": 86,
        "name": "Select"
      },
      "volume": {
        "type": "note",
        "number": 68,
        "name": "Volume Mode"
      },
      "pan": {
        "type": "note",
        "number": 69,
        "name": "Pan Mode"
      },
      "send": {
        "type": "note",
        "number": 70,
        "name": "Send Mode"
      },
      "device": {
        "type": "note",
        "number": 71,
        "name": "Device Mode"
      },
      "up": {
        "type": "note",
        "number": 64,
        "name": "Up"
      },
      "down": {
        "type": "note",
        "number": 65,
        "name": "Down"
      },
      "left": {
        "type": "note",
        "number": 66,
        "name": "Left"
      },
      "right": {
        "type": "note",
        "number": 68,
        "name": "Right"
      }
    }
  },
  "metadata": {
    "testedDate": "2025-11-02",
    "testedBy": "Hardware testing completed",
    "notes": "CRITICAL: Dual MIDI device architecture. Device 1 (APC Key 25 mk2) = keyboard only. Device 2 (MIDIIN2/MIDIOUT2) = buttons, knobs, LEDs, special buttons. LED colors: Red(5), Yellow(96), Green(13). All 40 buttons mapped. 8 knobs on CC 48-55 (relative). Keyboard: MIDI notes 1-120.",
    "status": "Complete âœ…",
    "warnings": [
      "Must connect to BOTH MIDI devices simultaneously",
      "LED control requires sending to MIDIOUT2, NOT the keyboard device",
      "Keyboard on separate device from button grid"
    ]
  }
}
